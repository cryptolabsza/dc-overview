global:
  scrape_interval: 15s

scrape_configs:
  # Master/Monitoring server
  - job_name: 'master'
    static_configs:
      - targets: ['<MASTER_IP>:9090', '<MASTER_IP>:9100', '<MASTER_IP>:8080']
        labels:
          instance: 'master'

  # IPMI Monitor (SEL events, BMC status)
  - job_name: 'ipmi-monitor'
    scrape_interval: 60s
    static_configs:
      - targets: ['<MASTER_IP>:5000']
        labels:
          instance: 'ipmi-monitor'

  # Vast.ai exporter (optional - if using Vast.ai)
  - job_name: 'vastai'
    scrape_interval: 60s
    static_configs:
      - targets: ['vastai-exporter:8622']
        labels:
          instance: 'vastai'

  # GPU Worker 1
  # Ports: 9100 (node), 9400 (dcgm), 9500 (dc-exporter)
  - job_name: 'gpu-worker-01'
    static_configs:
      - targets: ['<WORKER1_IP>:9100', '<WORKER1_IP>:9400', '<WORKER1_IP>:9500']
        labels:
          instance: 'gpu-worker-01'

  # GPU Worker 2
  - job_name: 'gpu-worker-02'
    static_configs:
      - targets: ['<WORKER2_IP>:9100', '<WORKER2_IP>:9400', '<WORKER2_IP>:9500']
        labels:
          instance: 'gpu-worker-02'

  # Add more workers as needed...
