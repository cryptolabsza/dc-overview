[1;33m=== AmericanColo Fleet Cleanup ===[0m
[0;36mMaster: 88.0.33.141[0m
[0;36mWorkers:       40 servers[0m

[1;33mStep 1: Cleaning master node (88.0.33.141)...[0m

  Containers to PRESERVE: registry, netbootxyz
  Containers to REMOVE: admin-grafana-1 admin-prometheus-1 admin-db-1 ipmi-monitor cadvisor my-node-exporter watchtower cryptolabs-proxy dc-overview prometheus grafana vastai-exporter runpod-exporter certbot

  Stopping monitoring containers...
ipmi-monitor
    stopped ipmi-monitor
cryptolabs-proxy
    stopped cryptolabs-proxy
dc-overview
    stopped dc-overview
prometheus
    stopped prometheus
grafana
    stopped grafana
runpod-exporter
    stopped runpod-exporter
  Stopping containers by pattern...
grafana
prometheus
ipmi-monitor
dc-overview
cryptolabs-proxy
runpod-exporter
  Removing monitoring containers...
    removed admin-grafana-1
    removed admin-prometheus-1
    removed admin-db-1
ipmi-monitor
    removed ipmi-monitor
    removed cadvisor
    removed my-node-exporter
    removed watchtower
cryptolabs-proxy
    removed cryptolabs-proxy
dc-overview
    removed dc-overview
prometheus
    removed prometheus
grafana
    removed grafana
    removed vastai-exporter
runpod-exporter
    removed runpod-exporter
    removed certbot
  Removing containers by pattern...
  Removing exporter services on master...
  Removing monitoring volumes...
ipmi-monitor-data
    removed volume ipmi-monitor-data
dc-overview-data
    removed volume dc-overview-data
fleet-auth-data
    removed volume fleet-auth-data
dc-overview_grafana-data
    removed volume dc-overview_grafana-data
dc-overview_prometheus-data
    removed volume dc-overview_prometheus-data
  Removing volumes by pattern...
  Pruning unused volumes...
Deleted Volumes:
0b53c88779d319e8d3cee5b74f4b74f1bbf1320c536800814024aeb98e8fe8de
0ea8bbcb44ec29a4c5536025136bd2decb321c404e716c4044055abf80231554
3fb66c68108c69cb2497481c57e445663841ecd184b47e87030023d076db1470

Total reclaimed space: 0B
  Removing monitoring networks...
cryptolabs
    removed network cryptolabs
  Removing networks by pattern...
  Pruning unused networks...
  Removing monitoring images...
Untagged: ghcr.io/cryptolabsza/ipmi-monitor:dev
Untagged: ghcr.io/cryptolabsza/ipmi-monitor@sha256:c38fe314d886932c3a4e83ef86e12b0aad0cbd598f9de798ed53a6d30fa14677
Deleted: sha256:e1583cdd1c892f53d7c73222a6dbfb6d2ce2d9cb578a3fc9dbfb574003339f0f
Deleted: sha256:03314052300b47bd43aeba61f927800186caaca776956774a2b4f1c098cb3749
Deleted: sha256:f7a269a3852cea6ea85e96abdd2523b52edbc4534ef803ea335b250ba2dab27f
Deleted: sha256:efd7ea40d68a6215660bf5a10ed5d09284fd893a00cff8e4037d70d9b5edd886
Deleted: sha256:ccf7bbee7e71bd07a26a1a78950a2505f167405b637237803ee5a46599bbb87d
Deleted: sha256:462baacb1210f958246f62bfff42160787981b4358b9284f88d1f8f070214bc9
Deleted: sha256:dcdf2445d001edc4f988cf5c045bd94fabdde82bcd8f2858c1cea3d16a53519f
    removed ghcr.io/cryptolabsza/ipmi-monitor
Untagged: ghcr.io/cryptolabsza/dc-overview:dev
Untagged: ghcr.io/cryptolabsza/dc-overview@sha256:f000266aae535aa6a5322f641a27441f788fa70a89088fb050e0814d38ffc501
Deleted: sha256:367c91d85f5915b5decdfda373025f6284365d21eec9b70f0ec495ebc3c5bd51
Deleted: sha256:36e9217cf7fd37548b96d3ff8e6fe1c6b707ca5bcfc2b29ce6a1e8bc25908121
Deleted: sha256:e17f26804aa07986bf45fdb1f0ae70dc38daef4a8da69de1e07552d59a3eed78
Deleted: sha256:aec9efc3a4730d33a14102ac3ac347fedbfa3e8b67af22aed85bed2b67422031
Deleted: sha256:9c2742784a27bb7112d09f611119b9750f1418159201f8347b8587aa5971b11f
Deleted: sha256:277ba1e1d8e12f1bd2d77d8f91d6ff5526fa614a78ba52aa3cc6532b9d78f98f
    removed ghcr.io/cryptolabsza/dc-overview
Untagged: ghcr.io/cryptolabsza/cryptolabs-proxy:dev
Untagged: ghcr.io/cryptolabsza/cryptolabs-proxy@sha256:1e14c359dd6fea01694e7f38052ec83151a028819b10078fb2ec920e3f726e70
Deleted: sha256:50af3b6d041f9756c829e6185a61d497170f7d750fb386bc08fabda025eb20aa
Deleted: sha256:a8cc0aa5f46cec2c041d0335456bab39ac2222549a9e9b8aa6e90595a6385ade
Deleted: sha256:8b29fe5169a4e3813864b4fb96a40474a9bceabfb9ad618f82504f53c24a8728
Deleted: sha256:8cf2a8805bb4bbd5c522a24b3bec09b06c46a518a9e8c5054c1396e38b23bf05
Deleted: sha256:7c69dbfa7b28f12b33db0aeeaabeeab1a9aa19b71dae71e60e899350373eafb6
Deleted: sha256:ba5d962d3b65c2435535fbe5fdda86f236b581031fec0599c119c30e740d5d0c
Deleted: sha256:c2f7d16d03c55edd6dc3f7bed1043240d5ab5799576374028e6cd0c201f4edb2
Deleted: sha256:5ead4999f57c9ed8e6d263a8c3237718609cd4bb375b8a63d56035835f5c66c7
Deleted: sha256:5bb397c937b29d5d1cec3c952d8199c9bef67bc751146264001017d6342cb07d
Deleted: sha256:0388e6f0e6edbbc60707520942b4f46bd78ae34ab59b2786daffebd9f89bfffc
Deleted: sha256:ab0838fa40403900f77e23871240d04eebd5f9911736f25948a821f3f3a8fef0
Deleted: sha256:fa5ecaf75ea6bdf679089e1dd3d58a85e42a6d451941be131966ee00ca034603
Deleted: sha256:ebe1b7ac8c860ce51c852bd1333ac2bb49ef54a2af57517ef1684202d05d1df3
Deleted: sha256:bad170219b4234284a18bfb6ad8998d70a818f09c133c95d8bfeefc38c1a02cb
Deleted: sha256:5b4d37fb62dbae255ea62b228ea0142a53fba05b85920e59ccc3c2ed69547fc2
Deleted: sha256:9f6e34003138c117804f71e85e6b1d359a9548e90d2ab4a75f9b486377be4025
Deleted: sha256:9fda47bb4cf4ff5f643f7e9d4de82f2b138a3078ba5b79c1fbc1f0b8ae05da95
Deleted: sha256:0785b5259ff0275515cdb109e663502f5e323ef1f669af71ad3112cd24d8cf48
Deleted: sha256:4c6d79669e7c8af6a1034cba0975ac1e13a390faed682069204603fa5175746d
Deleted: sha256:989e799e634906e94dc9a5ee2ee26fc92ad260522990f26e707861a5f52bf64e
    removed ghcr.io/cryptolabsza/cryptolabs-proxy
    removed ghcr.io/cryptolabsza/vastai-exporter
Untagged: ghcr.io/cryptolabsza/runpod-exporter:latest
Untagged: ghcr.io/cryptolabsza/runpod-exporter@sha256:1932336dca7356f799936347d201d7b686a543672d76030667494f801f56a6c0
Deleted: sha256:fd4158bda0d470b6c4519c67ed7e3ee3a69e5c1ca23e79290e33813e42b11d96
Deleted: sha256:b787e25fd9477521bf92241a26389e02b699bb9a3d0fceee85ef96012dfedc2f
Deleted: sha256:de82dd784bcf44ad784e67606477dc1b1c12c610ca451f5edd137d05e31c5c5f
Deleted: sha256:c66db9e6e90eb1603aaeec9a315eb41071efa1fa7d04c3a5d308f5e474615ccb
Deleted: sha256:4848620b4f05c1bab648b71b2db717c7d2b96fdf4d91bf68b1b701f1f486155d
Deleted: sha256:aaa0749783d8f0c89f0e3c84610c7e8a3c0d4aaeb0ff4f51eba5ea85a7db3d78
Deleted: sha256:de6edbcec1fcef89176db9f9e8105fb0869502e288508ed4255e8269cdf65841
Deleted: sha256:e50a58335e1366e2581fe61794c1651afe2fe04e881e795aa166f24f4fc78d92
    removed ghcr.io/cryptolabsza/runpod-exporter
Untagged: prom/prometheus:latest
Untagged: prom/prometheus@sha256:1f0f50f06acaceb0f5670d2c8a658a599affe7b0d8e78b898c1035653849a702
Deleted: sha256:937690d77350877cc773f574d6150bc9d1fbcb1a2e23a5ae9c1553d5d29465a5
Deleted: sha256:5f7c8ce5d4797988cc2d1959987818471ea3cdbe77a8dcd5bf1ccd551d5fb9ae
Deleted: sha256:908c8e708ad1307871da43cb6f446bf408930d266e67ed3c1b36e11c71d4cb93
Deleted: sha256:c408bc4ee9a6654a9c0f9f2ab397768a22a0b9d418f30bbc907a5224a22d1f37
Deleted: sha256:bd9d4664f112398405a3a3238e3d7863c19b7f5f8064e716018c6f10655e30ea
Deleted: sha256:483c144aa7782eb69425d482cd8217c346340babd4fb71277ee1f17c204eed42
Deleted: sha256:0892b290aa843b01800b385c6ead85efc466268bfa47b4fc5add291502b350b5
Deleted: sha256:d8ff67723e8a48ed7d2b9a09cb1b39f64a8d217dd703b548a431dca9889b4fbc
Deleted: sha256:01b3605fd94917e5fdcd29218be367917241aea1193f7f4a16cc66de4b51f545
Deleted: sha256:84206608dd77b849a42c68c579ecf082a485eea1bbdec40618c779c373c27b7b
Deleted: sha256:b92437a87bb9fdba549cccb225042bb05b8789d69defffc21554e626c60f99d8
    removed prom/prometheus
Untagged: grafana/grafana:latest
Untagged: grafana/grafana@sha256:ba93c9d192e58b23e064c7f501d453426ccf4a85065bf25b705ab1e98602bfb1
Deleted: sha256:aa786575ad9455f06cde03137668886e642e3a6a012326c2f0cc8ea249502873
Deleted: sha256:45773a06086e9b2b5621cb30e825fe797de7675e6ef12408bc30d57388bfd66f
Deleted: sha256:ffdea98865093e02b574a56bf3ced9dcc809c3dd5e0ab4936de603ee25573ad7
Deleted: sha256:74e06adb4b162afdff0bd6589096b4f8e4209ad8231c7ed516413577b03a95f2
Deleted: sha256:a806d655c5ee55951ef51c7be93af5ea7d053a902e9c7db171c1b313133c3e0e
Deleted: sha256:dbb3dbc89faf6fce179c1df1af1f1c0cfa1d7281f2d62f3e3b3b423a0dec218f
Deleted: sha256:f957ecc92cf1e0d009855458675b6253f41580c8d6aa6489c9ac74a03b80b645
Deleted: sha256:cd9b46ff132dda6a8595f733367599744c25bfcf999d5db2139e1cf9a70f51a2
Deleted: sha256:eda7ea93fed060001d6d617d88ece34152664defd5c86a76ad2ad94000033077
Deleted: sha256:f9fbc7b1154b6af929585163a70cb6acdf90e2ba42ced4a6dfdf273e679dbede
Deleted: sha256:5aa68bbbc67e405a7cfa11466b02f1c9597add532909fb9a4d0f6f58a30b044e
    removed grafana/grafana
  Pruning dangling images...
Total reclaimed space: 0B
[0;32m  âœ“ Master node cleaned[0m

  Remaining containers on master:
NAMES        STATUS
netbootxyz   Up 46 hours (healthy)
registry     Up 4 weeks

[1;33mStep 2: Cleaning exporter services on workers...[0m
[0;36m  Note: Docker containers on workers are NOT affected[0m
[0;36m  Running cleanup in parallel (max 64 concurrent)...[0m

  Results:
    brickbox-01 (88.0.1.1): [0;32mâœ“ cleaned[0m
    brickbox-02 (88.0.2.1): [0;32mâœ“ cleaned[0m
    brickbox-03 (88.0.3.1): [0;32mâœ“ cleaned[0m
    brickbox-04 (88.0.4.1): [0;32mâœ“ cleaned[0m
    brickbox-05 (88.0.5.1): [0;32mâœ“ cleaned[0m
    brickbox-06 (88.0.6.1): [0;32mâœ“ cleaned[0m
    brickbox-07 (88.0.7.1): [0;32mâœ“ cleaned[0m
    brickbox-08 (88.0.8.1): [0;32mâœ“ cleaned[0m
    brickbox-09 (88.0.9.1): [0;32mâœ“ cleaned[0m
    brickbox-10 (88.0.10.1): [0;32mâœ“ cleaned[0m
    brickbox-11 (88.0.11.1): [0;32mâœ“ cleaned[0m
    88.0.12.1: [0;31mUNREACHABLE[0m
    brickbox-25 (88.0.25.1): [0;32mâœ“ cleaned[0m
    brickbox-26 (88.0.26.1): [0;32mâœ“ cleaned[0m
    brickbox-27 (88.0.27.1): [0;32mâœ“ cleaned[0m
    brickbox-28 (88.0.28.1): [0;32mâœ“ cleaned[0m
    brickbox-29 (88.0.29.1): [0;32mâœ“ cleaned[0m
    brickbox-30 (88.0.30.1): [0;32mâœ“ cleaned[0m
    brickbox-31 (88.0.31.1): [0;32mâœ“ cleaned[0m
    brickbox-32 (88.0.32.1): [0;32mâœ“ cleaned[0m
    brickbox-33 (88.0.33.1): [0;32mâœ“ cleaned[0m
    brickbox-34 (88.0.34.1): [0;32mâœ“ cleaned[0m
    brickbox-35 (88.0.35.1): [0;32mâœ“ cleaned[0m
    brickbox-36 (88.0.36.1): [0;32mâœ“ cleaned[0m
    brickbox-37 (88.0.37.1): [0;32mâœ“ cleaned[0m
    brickbox-38 (88.0.38.1): [0;32mâœ“ cleaned[0m
    brickbox-39 (88.0.39.1): [0;32mâœ“ cleaned[0m
    brickbox-40 (88.0.40.1): [0;32mâœ“ cleaned[0m
    brickbox-41 (88.0.41.1): [0;32mâœ“ cleaned[0m
    brickbox-42 (88.0.42.1): [0;32mâœ“ cleaned[0m
    brickbox-43 (88.0.43.1): [0;32mâœ“ cleaned[0m
    brickbox-44 (88.0.44.1): [0;32mâœ“ cleaned[0m
    brickbox-45 (88.0.45.1): [0;32mâœ“ cleaned[0m
    brickbox-46 (88.0.46.1): [0;32mâœ“ cleaned[0m
    brickbox-47 (88.0.47.1): [0;32mâœ“ cleaned[0m
    brickbox-48 (88.0.48.1): [0;32mâœ“ cleaned[0m
    runpodccc96 (88.0.96.1): [0;32mâœ“ cleaned[0m
    runpodccc97 (88.0.97.1): [0;32mâœ“ cleaned[0m
    RunpodCCC98 (88.0.98.1): [0;32mâœ“ cleaned[0m
    RunpodCCC99 (88.0.99.1): [0;32mâœ“ cleaned[0m

  [0;32mâœ“ 39 workers cleaned[0m, [0;31m1 failed[0m

[1;33mStep 3: Verification...[0m

  Master containers (should see registry, netbootxyz only):
NAMES        IMAGE                           STATUS
netbootxyz   ghcr.io/netbootxyz/netbootxyz   Up 46 hours (healthy)
registry     registry:2                      Up 4 weeks

  Sample worker check (88.0.1.1):
    Exporter services:
    (none running)

[0;32m=== Cleanup Complete ===[0m

Summary:
  â€¢ Master: Removed monitoring containers, volumes, and images
  â€¢ Preserved: registry, netbootxyz, pxe containers and images
  â€¢ Workers: Removed exporter systemd services, Docker containers untouched
  â€¢ No reboots performed
  â€¢ Next deploy will pull fresh monitoring images

To redeploy dc-overview:
  ssh root@88.0.33.141 -i ~/.ssh/ubuntu_key
  pip install --force-reinstall git+https://github.com/cryptolabsza/dc-overview.git@dev --break-system-packages
  dc-overview quickstart -c /root/dc-overview-config.yaml -y
