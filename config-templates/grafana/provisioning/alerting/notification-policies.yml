# Grafana Notification Policies
# Routes alerts to appropriate contact points
apiVersion: 1

policies:
  - orgId: 1
    receiver: CryptoLabs-Watchdog
    group_by:
      - grafana_folder
      - alertname
    group_wait: 30s
    group_interval: 5m
    repeat_interval: 4h
    routes:
      # Critical alerts go to both webhook and email
      - receiver: CryptoLabs-Email
        matchers:
          - severity = critical
        continue: true
      
      # All alerts go to DC Watchdog webhook
      - receiver: CryptoLabs-Watchdog
        matchers:
          - alertname =~ .+
